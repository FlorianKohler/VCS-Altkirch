---
layout: post
title: Test
---
<!-- Load Stripe.js on your website. -->
<script src="https://js.stripe.com/v3"></script>


<button
  class="btn btn-primary"
  id="checkout-button-price_1HptHzKoizqFFLlD13KqghS5"
  role="link"
  type="button"
>
<!--DECIDE WHICH TYPE???-->
  Confirmer et payer
</button>


</form>

<div id="error-message"></div>


<script>
(function() {
  var stripe = Stripe('pk_live_51Hnh7PKoizqFFLlDKwlnyMo2JHKOWuwnbmfc7RBRbt67odDBiXKccGSMfD6TKB6Vl68Av6Wxx3iGY8nO7dGA5is600nFffW4V1');

  var checkoutButton = document.getElementById('checkout-button-price_1HptHzKoizqFFLlD13KqghS5');
  

  checkoutButton.addEventListener('click', function () {
    // When the customer clicks on the button, redirect
    // them to Checkout.
    const isFormValid = checkoutButton.form.checkValidity();

    if(isFormValid==true) {
        event.preventDefault();
    }
    if(isFormValid==true) {


        stripe.redirectToCheckout({
          lineItems: [{price: 'price_1HptHzKoizqFFLlD13KqghS5', quantity: 1}],
          mode: 'payment',
          // Do not rely on the redirect to the successUrl for fulfilling
          // purchases, customers may not always reach the success_url after
          // a successful payment.
          // Instead use one of the strategies described in
          // https://stripe.com/docs/payments/checkout/fulfill-orders
          successUrl: 'https://vcs-altkirch.fr/paiement-ok.html',
          cancelUrl: 'https://vcs-altkirch.fr/paiement-erreur.html',
        })
        .then(function (result) {
          if (result.error) {
            // If `redirectToCheckout` fails due to a browser or network
            // error, display the localized error message to your customer.
            var displayError = document.getElementById('error-message');
            displayError.textContent = result.error.message;
          }
        });
    }
  });

})();
</script>